(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),l=n.n(c),o=n(8),s=n(19),u=n(9),m=(n(25),n(5)),i=function(e){var t=e.person,n=e.index,a=e.handler,c=e.selected?"person--selected":"",l="f"===t.sex?"person person--female":"person person--male",o="".concat(c," + ").concat(l),s=t.born<1650?"born_before_1650":"",u=t.age>=65?"age_more_65":"";return r.a.createElement("tr",{className:o,onClick:function(){return a(n)}},r.a.createElement("td",null,t.id),r.a.createElement("td",{className:s},t.name),r.a.createElement("td",null,t.sex),r.a.createElement("td",null,t.born),r.a.createElement("td",null,t.died),r.a.createElement("td",{className:u},t.age),r.a.createElement("td",null,t.century),r.a.createElement("td",null,t.mother),r.a.createElement("td",null,t.father),r.a.createElement("td",null,t.children.map(function(e){return"".concat(e.name,", ")})))},p=function(e){var t=e.handleSort,n=e.title;return r.a.createElement("th",{onClick:function(){return t(n)},className:"column-header"},n)},d=["id","name","sex","born","died","age","century","mother","father","children"],f=function(e){var t,n=e.match,c=e.people,l=Object(a.useState)("id"),o=Object(u.a)(l,2),s=o[0],f=o[1],h=Object(m.e)(),E=Object(m.f)(),b=new URLSearchParams(E.search),g=b.get("query"),w=b.get("sortOrder"),y=function(e){h.push("/people/".concat(c[e].name.toLowerCase().replace(/\s/g,"-")))},v=function(e){e!==s&&(b.set("sortBy",e),b.set("sortOrder","asc")),e===s&&(b.set("sortBy",e),b.set("sortOrder","desc")),e===s&&"desc"===w&&b.set("sortOrder","asc"),h.push({search:b.toString()}),f(e)},C=g?c.filter(function(e){return e.name.toLowerCase().includes(g.toLowerCase())||null!==e.mother&&e.mother.toLowerCase().includes(g.toLowerCase())||null!==e.father&&e.father.toLowerCase().includes(g.toLowerCase())}):c,O=(t=s,C.sort(function(e,n){return"string"===typeof e[t]?e[t].localeCompare(n[t]):e[t]-n[t]})),j="desc"===w?O.reverse():O,L=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,r)},t)}}(function(e){b.set("query",e),e?h.push({search:b.toString()}):(b.delete("query"),h.push({search:b.toString()}))},500);return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"count",to:"/people"},"count of people:"," ",j.length),r.a.createElement("label",null,r.a.createElement("input",{onChange:function(e){return L(e.target.value)},type:"search",className:"input",placeholder:"Search"})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,d.map(function(e){return r.a.createElement(p,{handleSort:v,title:e})}))),r.a.createElement("tbody",null,j.map(function(e,t){return r.a.createElement(i,{person:e,index:t,handler:y,selected:e.name.toLowerCase().replace(/\s/g,"-")===n.params.name})}))))},h=n(13),E=n.n(h),b=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){(function(){var e;return E.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.awrap(fetch("https://mate-academy.github.io/react_people-table/api/people.json"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})})().then(function(e){var t=e.map(function(t,n){return Object(s.a)({},t,{id:n+1,age:t.died-t.born,century:Math.ceil(t.died/100),children:e.filter(function(e){return e.mother===t.name||e.father===t.name})})});c(t)})},[]),r.a.createElement("div",{className:"App"},r.a.createElement(o.b,{to:"/people",className:"start"},"People table"),r.a.createElement(m.a,{path:"/people/:name?",render:function(e){var t=e.match;return r.a.createElement(f,{people:n,match:t})}}))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(b,{test:123})),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.321ec2b9.chunk.js.map